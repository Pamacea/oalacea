@import "tailwindcss";
@import "tw-animate-css";

/* ============================================
   BRUTAL GRIMDARK THEME
   True Warhammer 40K Colors + Violent Glitch
   ============================================ */

@theme inline {
  /* === WARHAMMER 40K / DARK FANTASY AUTHENTIC PALETTE === */

  /* Void Black - Pure darkness */
  --color-imperium-black: #080808;
  --color-imperium-black-deep: #030303;
  --color-imperium-black-raise: #0a0a0a;
  --color-imperium-charcoal: #121212;

  /* Blood Red - Ancient dried blood */
  --color-imperium-crimson: #5a0a0a;
  --color-imperium-crimson-bright: #7a1515;
  --color-imperium-crimson-dark: #3a0505;

  /* Mechanicus Steel - Cold war metal */
  --color-imperium-steel: #4a4f52;
  --color-imperium-steel-dark: #2f3336;
  --color-imperium-steel-light: #5a6166;

  /* Aged Gold - Millennium old gold */
  --color-imperium-gold: #6a5a40;
  --color-imperium-gold-bright: #8a7a50;
  --color-imperium-gold-dark: #4a3a30;

  /* Wrought Iron - Battle forged iron */
  --color-imperium-iron: #3a3a3a;
  --color-imperium-iron-dark: #252525;
  --color-imperium-iron-light: #4a4a4a;

  /* Ceramite White - Bone white */
  --color-imperium-bone: #a09080;
  --color-imperium-bone-dark: #7a6a5a;

  /* Electroteuth - Blue warp energy */
  --color-imperium-warp: #2a3a5a;
  --color-imperium-warp-bright: #3a4a7a;

  /* Teal - Mechanicus plasma */
  --color-imperium-teal: #4ecdc4;

  /* Crusted Bronze - Oxyd√© by ages */
  --color-imperium-bronze: #5a4a30;
  --color-imperium-copper: #6a3a20;

  /* Ash & Cinder - Burnt remains */
  --color-imperium-ash: #2a2520;
  --color-imperium-cinder: #4a3525;

  /* ALIASES - Compatibility */
  --color-imperium-metal: #4a4a4a;
  --color-imperium-metal-dark: #2a2a2a;
  --color-imperium-metal-light: #5a5a5a;
  --color-imperium-grime: #2a2520;
  --color-imperium-rust: #4a3525;

  /* === RADICAL BORDER RADIUS === */
  --radius-none: 0;
  --radius-sm: 0;
  --radius-md: 0;
  --radius-lg: 0;
  --radius-xl: 0;
}

/* ============================================
   CSS VARIABLES
   ============================================ */

:root {
  --background: #0d0d0d;
  --foreground: #e0e0e0;
  --card: #1c1c1c;
  --card-foreground: #e0e0e0;
  --popover: #1c1c1c;
  --popover-foreground: #e0e0e0;
  --primary: #9a1115;
  --primary-foreground: #ffffff;
  --secondary: #b8a646;
  --secondary-foreground: #0d0d0d;
  --muted: #2a2a2a;
  --muted-foreground: #7b7b7b;
  --accent: #4ecdc4;
  --accent-foreground: #0d0d0d;
  --destructive: #6b0a12;
  --destructive-foreground: #ffffff;
  --border: #4a4a4a;
  --input: #4a4a4a;
  --ring: #9a1115;
}

/* ============================================
   BASE STYLES
   ============================================ */

@layer base {
  * {
    border-color: var(--border);
  }

  body {
    background-color: var(--background);
    color: var(--foreground);
    font-family: 'Courier Prime', 'Space Mono', 'IBM Plex Mono', monospace;
    -webkit-font-smoothing: antialiased;
  }

  /* Typography - Bold, Dense */
  h1, h2, h3, h4, h5, h6 {
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.05em;
  }

  h1 { font-size: clamp(32px, 8vw, 80px); line-height: 0.9; }
  h2 { font-size: clamp(24px, 5vw, 48px); line-height: 0.95; }
  h3 { font-size: clamp(20px, 4vw, 32px); line-height: 1; }
  h4 { font-size: 24px; line-height: 1; }

  /* Scrollbar hidden */
  ::-webkit-scrollbar { width: 0; }
  html, body { overflow-x: hidden; scrollbar-width: none; }

  /* Selection - Crimson */
  ::selection {
    background-color: #9a1115;
    color: #ffffff;
  }
}

/* ============================================
   KEYFRAMES - BRUTAL ANIMATIONS
   ============================================ */

@keyframes glitch-shake {
  0%, 100% { transform: translate(0) skew(0deg); }
  20% { transform: translate(-4px, 2px) skew(-2deg); }
  40% { transform: translate(4px, -2px) skew(2deg); }
  60% { transform: translate(-2px, 1px) skew(-1deg); }
  80% { transform: translate(2px, -1px) skew(1deg); }
}

@keyframes severe-glitch {
  0%, 100% {
    transform: translate(0) skew(0deg);
    filter: hue-rotate(0deg);
  }
  20% {
    transform: translate(-8px, 4px) skew(-2deg);
    filter: hue-rotate(90deg);
  }
  40% {
    transform: translate(8px, -4px) skew(2deg);
    filter: hue-rotate(180deg);
  }
  60% {
    transform: translate(-4px, 2px) skew(-1deg);
    filter: hue-rotate(270deg);
  }
  80% {
    transform: translate(4px, -2px) skew(1deg);
    filter: hue-rotate(360deg);
  }
}

@keyframes glitch-skew {
  0% { transform: skew(0deg) scale(1); }
  25% { transform: skew(-2deg) scale(0.98); }
  50% { transform: skew(1deg) scale(1.02); }
  75% { transform: skew(-0.5deg) scale(0.99); }
  100% { transform: skew(0deg) scale(1); }
}

@keyframes shake-violent {
  0%, 100% { transform: translate(0, 0) rotate(0deg); }
  10% { transform: translate(-2px, -1px) rotate(-1deg); }
  20% { transform: translate(2px, 1px) rotate(1deg); }
  30% { transform: translate(-1px, 2px) rotate(0deg); }
  40% { transform: translate(1px, -1px) rotate(1deg); }
  50% { transform: translate(-2px, 1px) rotate(-1deg); }
  60% { transform: translate(2px, -2px) rotate(0deg); }
  70% { transform: translate(-1px, -1px) rotate(1deg); }
  80% { transform: translate(0, 2px) rotate(0deg); }
  90% { transform: translate(1px, 1px) rotate(-1deg); }
}

@keyframes rgb-shift {
  0%, 100% {
    text-shadow:
      -4px 0 rgba(154, 17, 21, 0.8),
      4px 0 rgba(78, 205, 196, 0.8);
  }
  25% {
    text-shadow:
      4px 0 rgba(154, 17, 21, 0.8),
      -4px 0 rgba(78, 205, 196, 0.8);
  }
  50% {
    text-shadow:
      -8px 0 rgba(154, 17, 21, 0.8),
      8px 0 rgba(78, 205, 196, 0.8);
  }
  75% {
    text-shadow:
      -4px 0 rgba(154, 17, 21, 0.8),
      4px 0 rgba(78, 205, 196, 0.8);
  }
}

@keyframes block-glitch {
  0%, 100% {
    clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
  }
  25% {
    clip-path: polygon(10% 0%, 90% 5%, 95% 95%, 5% 100%);
  }
  50% {
    clip-path: polygon(0% 10%, 100% 0%, 95% 90%, 5% 95%);
  }
  75% {
    clip-path: polygon(5% 5%, 95% 0%, 100% 95%, 0% 90%);
  }
}

@keyframes overdrive-burn {
  0% {
    filter: brightness(1) saturate(1) contrast(1);
    box-shadow: 0 0 20px rgba(154, 17, 21, 0.3);
  }
  50% {
    filter: brightness(1.5) saturate(2) contrast(1.5);
    box-shadow: 0 0 50px rgba(154, 17, 21, 0.6);
  }
  100% {
    filter: brightness(1) saturate(1) contrast(1);
    box-shadow: 0 0 20px rgba(154, 17, 21, 0.3);
  }
}

@keyframes data-flicker {
  0%, 100% { opacity: 1; }
  40% { opacity: 1; }
  41% { opacity: 0.8; }
  42% { opacity: 1; }
  43% { opacity: 0.3; }
  44% { opacity: 1; }
  90% { opacity: 1; }
  91% { opacity: 0.6; }
  92% { opacity: 1; }
}

/* ============================================
   UTILITY CLASSES
   ============================================ */

@layer utilities {
  /* Glitch animations */
  .animate-glitch-shake {
    animation: glitch-shake 0.5s infinite;
  }

  .animate-severe-glitch {
    animation: severe-glitch 0.8s infinite;
  }

  .animate-glitch-skew {
    animation: glitch-skew 0.4s infinite;
  }

  .animate-shake-violent {
    animation: shake-violent 0.3s infinite;
  }

  .animate-rgb-shift {
    animation: rgb-shift 0.6s infinite;
  }

  .animate-block-glitch {
    animation: block-glitch 0.3s infinite;
  }

  .animate-overdrive {
    animation: overdrive-burn 2s ease-in-out infinite;
  }

  .animate-data-flicker {
    animation: data-flicker 4s infinite;
  }

  /* Hover effects */
  .hover-glitch:hover {
    animation: severe-glitch 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94) both;
  }

  .hover-shake:hover {
    animation: shake-violent 0.3s infinite;
  }

  /* Offset classes for brutal layout */
  .offset-1 {
    transform: translate(-2px, 1px) rotate(-0.5deg);
  }

  .offset-2 {
    transform: translate(2px, -1px) rotate(0.5deg);
  }

  .offset-3 {
    transform: translate(-1px, 2px) rotate(1deg);
  }

  .offset-random {
    transform: translate(calc(var(--random-x) * 1px), calc(var(--random-y) * 1px));
  }

  /* Typography */
  .font-display {
    font-family: 'Courier Prime', 'Space Mono', monospace;
    font-weight: 700;
    text-transform: uppercase;
    letter-spacing: 0.15em;
  }

  .font-terminal {
    font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  }

  .text-crimson {
    color: #9a1115;
  }

  .text-gold {
    color: #b8a646;
  }

  .text-teal {
    color: #4ecdc4;
  }

  /* Backgrounds */
  .bg-grunge {
    background-color: #1c1c1c;
    background-image:
      radial-gradient(circle at 20% 30%, transparent 0%, rgba(0,0,0,0.3) 100%),
      radial-gradient(circle at 80% 70%, transparent 0%, rgba(0,0,0,0.3) 100%);
  }

  /* Mix blend modes for glitch effects */
  .mix-blend-screen {
    mix-blend-mode: screen;
  }

  .mix-blend-difference {
    mix-blend-mode: difference;
  }

  /* Glowing text effects */
  .text-glow-crimson {
    text-shadow:
      0 0 10px rgba(154, 17, 21, 0.8),
      0 0 20px rgba(154, 17, 21, 0.6),
      0 0 30px rgba(154, 17, 21, 0.4);
  }

  .text-glow-teal {
    text-shadow:
      0 0 10px rgba(78, 205, 196, 0.8),
      0 0 20px rgba(78, 205, 196, 0.6),
      0 0 30px rgba(78, 205, 196, 0.4);
  }

  /* Border glow effects */
  .border-glow-crimson {
    box-shadow:
      0 0 10px rgba(154, 17, 21, 0.5),
      inset 0 0 10px rgba(154, 17, 21, 0.1);
  }

  /* Chromatic aberration for images */
  .chromatic-aberration {
    position: relative;
  }

  .chromatic-aberration::before,
  .chromatic-aberration::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: inherit;
    pointer-events: none;
  }

  .chromatic-aberration::before {
    left: -4px;
    background: rgba(154, 17, 21, 0.3);
    mix-blend-mode: screen;
  }

  .chromatic-aberration::after {
    left: 4px;
    background: rgba(78, 205, 196, 0.3);
    mix-blend-mode: screen;
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
    }
  }
}

/* ============================================
   MARKDOWN CONTENT STYLES
   ============================================ */

.markdown-content {
  color: var(--color-imperium-steel);
}

.markdown-content .markdown-h1 {
  font-family: 'Courier Prime', 'Space Mono', monospace;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 1.5rem;
  color: var(--color-imperium-crimson);
  margin-top: 2rem;
  margin-bottom: 1rem;
}

@media (min-width: 768px) {
  .markdown-content .markdown-h1 {
    font-size: 1.875rem;
  }
}

.markdown-content .markdown-h2 {
  font-family: 'Courier Prime', 'Space Mono', monospace;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 1.25rem;
  color: var(--color-imperium-gold);
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

@media (min-width: 768px) {
  .markdown-content .markdown-h2 {
    font-size: 1.5rem;
  }
}

.markdown-content .markdown-h3 {
  font-family: 'Courier Prime', 'Space Mono', monospace;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 1.125rem;
  color: var(--color-imperium-bone);
  margin-top: 1.25rem;
  margin-bottom: 0.5rem;
}

@media (min-width: 768px) {
  .markdown-content .markdown-h3 {
    font-size: 1.25rem;
  }
}

.markdown-content .markdown-h4 {
  font-family: 'Courier Prime', 'Space Mono', monospace;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  font-size: 1rem;
  color: var(--color-imperium-steel);
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

@media (min-width: 768px) {
  .markdown-content .markdown-h4 {
    font-size: 1.125rem;
  }
}

.markdown-content .markdown-p {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  font-size: 1rem;
  line-height: 1.625;
  color: var(--color-imperium-steel);
  margin-bottom: 1rem;
}

.markdown-content .markdown-ul {
  list-style-type: disc;
  margin-left: 1.5rem;
  margin-bottom: 1rem;
}

.markdown-content .markdown-ul li {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  color: var(--color-imperium-steel);
}

.markdown-content .markdown-blockquote {
  border-left: 4px solid var(--color-imperium-gold);
  padding-left: 1rem;
  font-style: italic;
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  color: var(--color-imperium-steel);
  margin-bottom: 1rem;
}

.markdown-content .markdown-hr {
  border-top: 2px dashed var(--color-imperium-steel-dark);
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

.markdown-content .inline-code {
  background-color: rgb(90 10 10 / 0.1);
  color: var(--color-imperium-crimson);
  border: 1px solid rgb(90 10 10 / 0.3);
  padding-left: 0.25rem;
  padding-right: 0.25rem;
  padding-top: 0.125rem;
  padding-bottom: 0.125rem;
  font-size: 0.875rem;
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
}

.markdown-content .code-block {
  background-color: var(--color-imperium-black);
  border: 2px solid var(--color-imperium-steel-dark);
  padding: 1rem;
  margin-bottom: 1rem;
  overflow-x: auto;
  position: relative;
}

.markdown-content .code-block code {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  font-size: 0.875rem;
  color: var(--color-imperium-bone);
}

.markdown-content .code-block .copy-button {
  position: absolute;
  top: 0.5rem;
  right: 0.5rem;
  padding-left: 0.5rem;
  padding-right: 0.5rem;
  padding-top: 0.25rem;
  padding-bottom: 0.25rem;
  font-size: 0.75rem;
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  background-color: rgb(90 10 10 / 0.2);
  color: var(--color-imperium-crimson);
  border: 1px solid rgb(90 10 10 / 0.3);
  transition: background-color 150ms;
}

.markdown-content .code-block .copy-button:hover {
  background-color: rgb(90 10 10 / 0.3);
}

.markdown-content .markdown-link {
  color: var(--color-imperium-crimson);
  text-decoration: none;
  border-bottom: 2px dashed var(--color-imperium-steel-dark);
  padding-bottom: 0.125rem;
  transition: color 150ms;
}

.markdown-content .markdown-link:hover {
  color: var(--color-imperium-gold);
}

/* ============================================
   TIPTap CONTENT STYLES
   ============================================ */

.tiptap-content {
  color: var(--color-imperium-steel);
}

.tiptap-content h1,
.tiptap-content h2,
.tiptap-content h3,
.tiptap-content h4,
.tiptap-content h5,
.tiptap-content h6 {
  font-family: 'Courier Prime', 'Space Mono', monospace;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.15em;
  margin-top: 1.5rem;
  margin-bottom: 0.75rem;
}

.tiptap-content h1 {
  font-size: 1.5rem;
  color: var(--color-imperium-crimson);
}

@media (min-width: 768px) {
  .tiptap-content h1 {
    font-size: 1.875rem;
  }
}

.tiptap-content h2 {
  font-size: 1.25rem;
  color: var(--color-imperium-gold);
}

@media (min-width: 768px) {
  .tiptap-content h2 {
    font-size: 1.5rem;
  }
}

.tiptap-content h3 {
  font-size: 1.125rem;
  color: var(--color-imperium-bone);
}

@media (min-width: 768px) {
  .tiptap-content h3 {
    font-size: 1.25rem;
  }
}

.tiptap-content h4 {
  font-size: 1rem;
  color: var(--color-imperium-steel);
}

.tiptap-content p {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  font-size: 1rem;
  line-height: 1.625;
  color: var(--color-imperium-steel);
  margin-bottom: 1rem;
}

.tiptap-content strong {
  color: var(--color-imperium-bone);
  font-weight: 700;
  font-family: 'Courier Prime', 'Space Mono', monospace;
  text-transform: uppercase;
}

.tiptap-content em {
  font-style: italic;
}

.tiptap-content code {
  background-color: rgb(90 10 10 / 0.1);
  color: var(--color-imperium-crimson);
  border: 1px solid rgb(90 10 10 / 0.3);
  padding-left: 0.375rem;
  padding-right: 0.375rem;
  padding-top: 0.125rem;
  padding-bottom: 0.125rem;
  font-size: 0.875rem;
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  border-radius: 0.125rem;
}

.tiptap-content pre {
  background-color: var(--color-imperium-black);
  border: 2px solid var(--color-imperium-steel-dark);
  padding: 1rem;
  margin-bottom: 1rem;
  overflow-x: auto;
  position: relative;
}

.tiptap-content pre code {
  background-color: transparent;
  border: none;
  padding: 0;
  color: var(--color-imperium-bone);
  font-size: 0.875rem;
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
}

.tiptap-content ul {
  list-style-type: disc;
  margin-left: 1.5rem;
  margin-bottom: 1rem;
}

.tiptap-content ul li {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  color: var(--color-imperium-steel);
  margin-bottom: 0.25rem;
}

.tiptap-content ul li::marker {
  color: var(--color-imperium-gold);
}

.tiptap-content ol {
  list-style-type: decimal;
  margin-left: 1.5rem;
  margin-bottom: 1rem;
}

.tiptap-content ol li {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  color: var(--color-imperium-steel);
  margin-bottom: 0.25rem;
}

.tiptap-content ol li::marker {
  color: var(--color-imperium-gold);
  font-weight: 700;
}

.tiptap-content blockquote {
  border-left: 4px solid var(--color-imperium-gold);
  padding-left: 1rem;
  font-style: italic;
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  color: var(--color-imperium-steel);
  margin-bottom: 1rem;
}

.tiptap-content hr {
  border-top: 2px dashed var(--color-imperium-steel-dark);
  margin-top: 1.5rem;
  margin-bottom: 1.5rem;
}

.tiptap-content a {
  color: var(--color-imperium-crimson);
  text-decoration: none;
  border-bottom: 2px dashed var(--color-imperium-steel-dark);
  padding-bottom: 0.125rem;
  transition: color 150ms;
}

.tiptap-content a:hover {
  color: var(--color-imperium-gold);
}

.tiptap-content img {
  max-width: 100%;
  height: auto;
  border: 2px solid var(--color-imperium-steel-dark);
  margin: 1rem 0;
}

.tiptap-content table {
  width: 100%;
  border-collapse: collapse;
  margin-bottom: 1rem;
}

.tiptap-content table th,
.tiptap-content table td {
  border: 1px solid var(--color-imperium-steel-dark);
  padding: 0.5rem;
  text-align: left;
}

.tiptap-content table th {
  background-color: var(--color-imperium-charcoal);
  color: var(--color-imperium-bone);
  font-family: 'Courier Prime', 'Space Mono', monospace;
  text-transform: uppercase;
  font-weight: 700;
}

.tiptap-content table td {
  font-family: 'IBM Plex Mono', 'Fira Code', monospace;
  color: var(--color-imperium-steel);
}

/* ============================================
   CODE BLOCK SYNTAX HIGHLIGHTING
   ============================================ */

.tiptap-content pre {
  counter-reset: line;
}

.tiptap-content .hljs {
  background: transparent;
  color: var(--color-imperium-bone);
}

.tiptap-content .hljs-comment,
.tiptap-content .hljs-quote {
  color: var(--color-imperium-steel);
  font-style: italic;
}

.tiptap-content .hljs-keyword,
.tiptap-content .hljs-selector-tag,
.tiptap-content .hljs-literal,
.tiptap-content .hljs-type {
  color: var(--color-imperium-crimson);
  font-weight: 700;
}

.tiptap-content .hljs-string,
.tiptap-content .hljs-title,
.tiptap-content .hljs-name {
  color: var(--color-imperium-gold);
}

.tiptap-content .hljs-number,
.tiptap-content .hljs-symbol {
  color: var(--color-imperium-teal);
}

.tiptap-content .hljs-attr,
.tiptap-content .hljs-variable,
.tiptap-content .hljs-template-variable {
  color: var(--color-imperium-warp-bright);
}

.tiptap-content .hljs-built_in,
.tiptap-content .hljs-builtin-name {
  color: var(--color-imperium-crimson-bright);
}

.tiptap-content .hljs-function {
  color: var(--color-imperium-teal);
}

.tiptap-content .hljs-class {
  color: var(--color-imperium-gold-bright);
}

.tiptap-content .hljs-regexp {
  color: var(--color-imperium-copper);
}

.tiptap-content .hljs-link {
  color: var(--color-imperium-warp);
}

.tiptap-content .hljs-meta {
  color: var(--color-imperium-steel-dark);
}

.tiptap-content .hljs-deletion {
  background: rgba(154, 17, 21, 0.2);
}

.tiptap-content .hljs-addition {
  background: rgba(78, 205, 196, 0.2);
}

.tiptap-content .hljs-emphasis {
  font-style: italic;
}

.tiptap-content .hljs-strong {
  font-weight: 700;
}
